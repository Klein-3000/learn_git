
| 配置                                                                                                                             | apache                                                                                                                                                                                                                                                                                                                                                                 | nginx                                                                                                                                                                                          |
| ------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 默认网站主目录<br>(文档根目录)                                                                                                             | /var/www                                                                                                                                                                                                                                                                                                                                                               | /usr/share/nginx/html                                                                                                                                                                          |
| 日志目录                                                                                                                           | /var/log/httpd<br>- error_log<br>- access_log                                                                                                                                                                                                                                                                                                                          | /var/log/nginx<br>- error.log<br>-access.log                                                                                                                                                   |
| 配置目录                                                                                                                           | /etc/httpd/<br>d conf/httpd.conf<br>d conf.d/\*.conf                                                                                                                                                                                                                                                                                                                   | /etc/nginx                                                                                                                                                                                     |
| 虚拟机<br>- 基于ip<br>- 基于域名<br>- 基于端口                                                                                              | \<VirtualHost \*:80><br>     ==DocumentRoot== "/www/html"<br>     ==SeverName== www.example.com<br><br>	 \<Directory "/www/html"><br>          AllowOverride all<br>		  Require  all granted<br>	 \</Directory><br>\</VirtualHost>                                                                                                                                     | server {<br>    Listen 80;<br>	server_name www.example.com;<br>	local / {<br>	      # 定义根目录<br>		  root /www/html;<br>		  # 定义主页<br>		  # 还可以是==home.html==<br>		  Index index.html<br>	}<br>} |
| 用户主页<br>安全策略==httpd_enable_homedirs=on==<br>selinux : ==setenforce permissive==                                                | \<IfModule mod_userdir.c><br>     # UserDir disable<br>	 UserDir public_html<br>\</IfModule><br>\<Directory "/home/\*/public_html"><br>     AllowOverride all<br>	 Require  all granted<br>\<Directory>                                                                                                                                                                |                                                                                                                                                                                                |
| basic认证<br>[htpasswd](nginx和htpasswd和httpd命令.md) apache自带;<br>nginx需要安装<br>- 认证类型<br>- 认证文件<br>- 认证说明<br>- 认证用户 | \<VirtualHost><br>    ...<br>	\<Directory "..."><br>          AuthType basic<br>		  AuthUserFile "/etc/httpd/auth"<br>		  # 没有作用,但不能不写<br>		  AuthName "authentication"<br>		  # 指定用户<br>		  Require ==user== usr1 \[user2 ...]<br>		  # 所有有效用户<br>		  # Require ==valid-user==<br>	\</Directory><br>\</VirtualHost>                                                   | server {<br>   ...<br>   local / {<br>      ...<br>	  auth_basic "authentication"<br>      auth_basic_user_file /etc/nginx/auth<br>   }<br><br><br>                                            |
| 访问控制<br>- ip控制 ==allow== & ==denied==                                                                                          | \<VirtualHost \*:80><br>     ...<br>	 \<Directory "..."><br>         AllowOverride all<br>		 # 基于IP地址<br>		 #  黑名单<br>		 Require all denied<br>		 Require  ==ip==  192.168.94.0<br><br>		 # 白名单<br>		 # \<RequireAll><br>         #       Require all allow<br>		 #       Require ==not ip== 192.168.94.0<br>		 # \</RequireAll><br>	 \</Directory><br>\</VirtualHost> |                                                                                                                                                                                                |
