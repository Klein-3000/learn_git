# tar and zip(unzip)

| 命令  | tar                                            | zip                                                     | unzip                                               |
| --- | ---------------------------------------------- | ------------------------------------------------------- | --------------------------------------------------- |
| 压缩  | tar -zcf \[path/]file.tar.gz  old_File         | zip \[-e] \[path/]file.zip old_File<br>-e : 交互式设置==密码== |                                                     |
| 查看  | tar -tvf \[path/]file.tar.gz                   |                                                         | unzip -lv \[path/]file.zip                          |
| 解压  | tar -zxf \[path/]file.tar.gz \[-C path/to/dir] |                                                         | unzip \[path/]file.zip \[-d path/to/dir] \[-x "正则"] |
# 7z
## format
```bash
7z <subcmd> <archive> [ file ...] [Option]
```
## subcmd

| 命令  | 单词          | 说明                          |
| --- | ----------- | --------------------------- |
| `a` | **a**dd     | 添加文件到归档（创建或更新压缩包）           |
| `x` | e**x**tract | 解压文件（==保留==目录结构）            |
| `e` | **e**xtract | 提取文件（==不保留==目录结构，全部解压到当前目录） |
| `l` | **l**ist    | 列出归档内容                      |
| `d` | **d**elete  | 从归档中删除文件                    |
| `t` |             | 测试归档文件的完整性                  |
| `u` | **u**pdate  | 更新归档中的文件                    |
## 例子(example)
### 压缩( archive)
```bash
# 压缩文件或目录为 .7z 格式
7z a archive.7z file1.txt folder/

# 使用 ZIP 格式压缩
7z a archive.zip file1.txt file2.jpg

# 设置压缩级别（-mx=0~9，0为无压缩，9为最高压缩）
7z a -mx=9 archive.7z data/

# 添加密码（加密压缩）-- 要紧贴在参数p的后面
7z a [-mhe=on] -p<YourPassword> archive.7z data/

# 同时设置加密和压缩级别
7z a -pSecret -mx=9 secure.7z private/

# 更新(追加)归档文件
7z u archive.7z untrackFile

# 删除归档文件
7z d archive.7z trackFile
```
### 解压
```
# 解压 .7z 文件，保留目录结构
7z x archive.7z

# 解压到指定目录(默认解压到当前目录) -- 要紧贴在参数o的后面
7z x archive.7z -o/home/user/extracted/

# 仅提取文件名，不创建子目录
7z e archive.7z

# 解压时输入密码
7z x -pPassword archive.7z
```
## 提取指定（单个）文件
```bash
7z e archive.7z "<files>"
```
## e和x的区别

| 命令     | 保留目录==结构== | 推荐用途            |
| ------ | ---------- | --------------- |
| `7z e` | ❌ 不保留      | 只想快速提取所有文件到一个目录 |
| `7z x` | ✅ 保留       | ✅ 一般推荐，防止文件混乱   |
### 查看和测试压缩包的完整性
```bash
7z l archive.7z

7z t archive.7z
```
### 向压缩包添加或删除文件
```bash
7z u archive.7z new_files

7z d archive.7z old_files
```

### 查看文件内容(不提取出来)
```shell
7z x -so <archiveFile> "file.txt" [-p"passwd"] | cat
 
```
> [!attention] 注意
> ==不建议==使用`e`参数,`e`参数**不**保留目录结构,不同目录下的同名文件可能会有影响

### **支持的格式**

7z 支持多种格式，包括：

- `.7z`
- `.zip`
- `.rar`
- `.tar`
- `.gz`
- `.bz2`
- `.iso` 等
# 英文
- archive : 归档
